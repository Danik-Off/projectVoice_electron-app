@use '../../../../styles/main' as *;

// Блок: servers (боковая панель с серверами)
.servers {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: $servers-panel-width;
    height: 100vh;
    background: var(--secondary-bg);
    border-right: $separator-height solid var(--border-primary);
    overflow: hidden;

    // Элемент: servers__header (закрепленная верхняя часть)
    &__header {
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: var(--spacing-md) 0 var(--spacing-sm) 0;
        gap: var(--spacing-sm);
        flex-shrink: 0;
        width: 100%;
    }

    // Элемент: servers__list (скроллируемый список серверов)
    &__list {
        flex: 1;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: var(--spacing-sm);
        padding: var(--spacing-sm) 0;
        overflow-y: auto;
        overflow-x: hidden;
        width: 100%;
        min-height: 0;

        // Скроллбар
        &::-webkit-scrollbar {
            width: $scrollbar-width;
        }

        &::-webkit-scrollbar-track {
            background: var(--scrollbar-track);
            border-radius: var(--border-radius-round);
        }

        &::-webkit-scrollbar-thumb {
            background: var(--scrollbar-thumb);
            border-radius: var(--border-radius-round);

            &:hover {
                background: var(--scrollbar-thumb-hover);
            }
        }
    }

    // Элемент: servers__footer (закрепленная нижняя часть)
    &__footer {
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: var(--spacing-sm) 0 var(--spacing-md) 0;
        gap: var(--spacing-sm);
        flex-shrink: 0;
        width: 100%;
        background: var(--secondary-bg);

        // Элемент: servers__footer-separator (разделитель перед настройками)
        &-separator {
            width: $server-size * 0.6;
            height: $separator-height;
            background: var(--border-primary);
            border-radius: var(--border-radius-round);
            margin: var(--spacing-xs) 0;
            flex-shrink: 0;
        }
    }

    // Элемент: server (отдельный сервер/кнопка)
    &__server {
        position: relative;
        width: $server-size;
        height: $server-size;
        min-width: $server-size;
        min-height: $server-size;
        border-radius: var(--border-radius-round);
        background: var(--tertiary-bg);
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        overflow: hidden;
        box-shadow: var(--shadow-light);
        flex-shrink: 0;
        user-select: none;

        &:hover {
            background: var(--primary-accent);
            box-shadow: var(--shadow-medium);
        }

        // Модификатор: server--active
        &--active {
            background: var(--gradient-primary);
            box-shadow: var(--glow-primary);

            .servers__server-icon {
                color: #ffffff;
            }
        }

        // Модификатор: server--home
        &--home {
            background: linear-gradient(135deg, var(--primary-accent) 0%, var(--secondary-accent) 100%);

            &:hover {
                background: linear-gradient(135deg, var(--primary-accent-hover) 0%, var(--secondary-accent-hover) 100%);
            }

            &.servers__server--active {
                box-shadow: var(--glow-primary);
            }
        }

        // Модификатор: server--add
        &--add {
            background: var(--success-accent);

            .servers__server-icon {
                font-size: $icon-size-xl;
                font-weight: 700;
                margin-top: -7px;
                color: #ffffff;
            }

            &:hover {
                background: var(--success-accent);
            }
        }

        // Модификатор: server--settings
        &--settings {
            background: var(--tertiary-bg);

            &:hover {
                background: var(--primary-accent);
            }

            &.servers__server--active {
                background: var(--gradient-primary);
            }
        }

        // Модификатор: server--admin
        &--admin {
            background: linear-gradient(135deg, var(--warning-accent) 0%, var(--secondary-accent) 100%);

            &:hover {
                background: linear-gradient(135deg, var(--warning-accent) 0%, var(--secondary-accent-hover) 100%);
            }
        }
    }

    // Элемент: server-icon (иконка сервера)
    &__server-icon {
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: $server-icon-size;
        color: var(--text-primary);
        user-select: none;
        pointer-events: none;

        img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: var(--border-radius-round);
        }
    }

    // Элемент: server-separator (разделитель между серверами)
    &__separator {
        width: $server-size * 0.6;
        height: $separator-height;
        background: var(--border-primary);
        border-radius: var(--border-radius-round);
        margin: var(--spacing-xs) 0;
        flex-shrink: 0;
    }
}
