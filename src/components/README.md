# Модальное окно профиля пользователя

## Описание

Модальное окно профиля пользователя - это компонент, который отображает подробную информацию о пользователе в удобном интерфейсе с вкладками. Оно может быть открыто кликом по аватару пользователя в любой части приложения.

## Компоненты

### 1. UserProfileModal
Основной компонент модального окна профиля с вкладками:
- **Обзор** - основная информация о пользователе
- **Активность** - статистика и активность (в разработке)
- **Серверы** - присоединенные серверы (в разработке)
- **Друзья** - друзья и связи (в разработке)

### 2. ClickableAvatar
Кликабельный аватар пользователя с поддержкой различных размеров и статусов.

### 3. UserProfileProvider
Провайдер контекста для управления состоянием модального окна профиля.

### 4. useUserProfile
Хук для доступа к функциям открытия/закрытия профиля.

## Использование

### Базовое использование

```tsx
import { useUserProfile } from '../components/UserProfileProvider';
import ClickableAvatar from '../components/ClickableAvatar';

const MyComponent = () => {
    const { openProfile } = useUserProfile();
    
    const handleAvatarClick = (user) => {
        openProfile(user, false); // false = не собственный профиль
    };
    
    return (
        <ClickableAvatar
            user={user}
            size="medium"
            onClick={handleAvatarClick}
        />
    );
};
```

### Открытие собственного профиля

```tsx
const handleOwnProfileClick = (user) => {
    openProfile(user, true); // true = собственный профиль
};
```

### Размеры аватаров

```tsx
<ClickableAvatar size="small" />   // 32x32px
<ClickableAvatar size="medium" />  // 40x40px
<ClickableAvatar size="large" />   // 48x48px
```

## Интеграция в существующие компоненты

### VoiceControls
Аватары пользователей в голосовых контролах теперь кликабельны и открывают профиль.

### MessageItem
Аватары в сообщениях открывают профиль отправителя.

### ServerMembers
Аватары участников сервера открывают их профили.

### VoiceRoom
Аватары участников голосовой комнаты открывают профили.

## Функциональность

### Вкладка "Обзор"
- Большой аватар с индикатором статуса
- Имя пользователя и тег
- Статус и роль
- Информация об аккаунте
- Предупреждения о блокировке (если применимо)

### Вкладка "Активность"
- Статистика активности (Coming Soon)
- Игровая активность (Coming Soon)
- Музыкальная активность (Coming Soon)

### Вкладка "Серверы"
- Домашний сервер (Coming Soon)
- Социальные серверы (Coming Soon)
- Игровые серверы (Coming Soon)

### Вкладка "Друзья"
- Статистика друзей
- Список друзей (Coming Soon)

### Действия
- **Отправить сообщение** - для других пользователей
- **Добавить в друзья** - для других пользователей
- **Заблокировать** - для других пользователей
- **Редактировать профиль** - для собственного профиля

## Стилизация

Компонент использует CSS переменные для поддержки тем:
- Поддержка светлой и темной темы
- Адаптивный дизайн для мобильных устройств
- Анимации и переходы
- CSS Grid для вкладок

## Тестирование

Для тестирования доступна демонстрационная страница по адресу `/profile-demo`, которая показывает:
- Различные типы пользователей
- Все размеры аватаров
- Тестирование собственного профиля
- Инструкции по использованию

## Будущие улучшения

- [ ] Реальная статистика активности
- [ ] Интеграция с игровыми сервисами
- [ ] Система друзей
- [ ] Управление серверами
- [ ] Настройки приватности
- [ ] Двухфакторная аутентификация
- [ ] История активности
- [ ] Интеграция с внешними сервисами

## Технические детали

### Типы данных
```typescript
interface User {
    id: number;
    username: string;
    email: string;
    role?: string;
    isActive?: boolean;
    profilePicture?: string;
    status?: string;
    tag?: string;
    createdAt?: string;
    blockedAt?: string;
    blockedBy?: string;
    blockReason?: string;
}
```

### Состояние
- `isOpen` - открыто ли модальное окно
- `user` - данные пользователя
- `isOwnProfile` - является ли профиль собственным
- `activeTab` - активная вкладка

### События
- `onClose` - закрытие модального окна
- `onClick` - клик по аватару
- `onTabChange` - смена вкладки

## Совместимость

- React 18+
- TypeScript 4.5+
- MobX 6+
- SCSS
- Поддержка всех современных браузеров
- Адаптивный дизайн для мобильных устройств
