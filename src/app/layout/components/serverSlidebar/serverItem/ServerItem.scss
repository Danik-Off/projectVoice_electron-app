@use '../../../../../styles/main' as *;

// –°—Ç–∏–ª–∏ –¥–ª—è —Å–µ—Ä–≤–µ—Ä–æ–≤ –≤ —Å–ø–∏—Å–∫–µ (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è .servers__server)
.servers__server {
    // –ë–∞–∑–æ–≤—ã–µ —Å—Ç–∏–ª–∏ —É–∂–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ ServerSidebar.scss
    
    // –°—Ç–∏–ª–∏ –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å–µ—Ä–≤–µ—Ä–æ–≤
    .servers__server-icon {
        width: 100%;
        height: 100%;
        border-radius: var(--border-radius);
        object-fit: cover;
        position: relative;
        z-index: 2;
    }

    // –°—Ç–∏–ª–∏ –¥–ª—è —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –∏–∫–æ–Ω–æ–∫ (–ø–µ—Ä–≤–∞—è –±—É–∫–≤–∞ –Ω–∞–∑–≤–∞–Ω–∏—è)
    &:not(:has(img)) .servers__server-icon {
        display: flex;
        justify-content: center;
        align-items: center;
        width: 100%;
        height: 100%;
        background: transparent;
        color: inherit;
        font-size: $icon-size;
        font-weight: 700;
        border-radius: var(--border-radius);
        text-transform: uppercase;
        position: relative;
        z-index: 2;
        letter-spacing: 0.5px;
    }

    // –ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä: servers__server--blocked (–∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä)
    &--blocked {
        background: var(--error-color);
        color: #ffffff;
        opacity: 0.8;
        position: relative;
        border-color: var(--error-color);

        &::before {
            content: 'üö´';
            position: absolute;
            top: -5px;
            right: -5px;
            font-size: 12px;
            z-index: 4;
            background: rgba(0, 0, 0, 0.8);
            border-radius: var(--border-radius-round);
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid var(--error-color);
        }

        &:hover {
            opacity: 1;
            box-shadow: 0 0 20px rgba(211, 47, 47, 0.3);
        }

        .servers__server-icon {
            filter: grayscale(0.5) brightness(0.7);
        }

        &:hover .servers__server-icon {
            filter: grayscale(0.3) brightness(0.9);
        }

    }

    // –ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä: servers__server--has-notifications (—Å–µ—Ä–≤–µ—Ä —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏)
    &--has-notifications {
        position: relative;

        &::after {
            content: '';
            position: absolute;
            top: -2px;
            right: -2px;
            width: 12px;
            height: 12px;
            background: var(--secondary-accent);
            border-radius: var(--border-radius-round);
            border: 2px solid var(--secondary-bg);
            z-index: 3;
        }
    }

    // –ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä: servers__server--connection-error (—Å–µ—Ä–≤–µ—Ä —Å –æ—à–∏–±–∫–æ–π –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è)
    &--connection-error {
        background: var(--warning-color);
        color: #ffffff;
        border-color: var(--warning-color);

        &::before {
            content: '‚ö†Ô∏è';
            position: absolute;
            top: -5px;
            right: -5px;
            font-size: 12px;
            z-index: 4;
            background: rgba(0, 0, 0, 0.8);
            border-radius: var(--border-radius-round);
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid var(--warning-color);
        }

        &:hover {
            background: var(--warning-color);
            box-shadow: 0 0 20px rgba(245, 124, 0, 0.3);
        }
    }

    // –ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä: servers__server--maintenance (—Å–µ—Ä–≤–µ—Ä –≤ —Ä–µ–∂–∏–º–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è)
    &--maintenance {
        background: var(--tertiary-accent);
        color: #ffffff;
        border-color: var(--tertiary-accent);

        &::before {
            content: 'üîß';
            position: absolute;
            top: -5px;
            right: -5px;
            font-size: 12px;
            z-index: 4;
            background: rgba(0, 0, 0, 0.8);
            border-radius: var(--border-radius-round);
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid var(--tertiary-accent);
        }

        &:hover {
            background: var(--tertiary-accent);
            box-shadow: 0 0 20px rgba(56, 142, 60, 0.3);
        }
    }
}

// –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–∞
.server-status-indicator {
    position: absolute;
    top: -5px;
    right: -5px;
    width: 20px;
    height: 20px;
    border-radius: var(--border-radius-round);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 12px;
    z-index: 4;
    border: 2px solid var(--secondary-bg);
    background: rgba(0, 0, 0, 0.8);

    &.blocked {
        border-color: var(--error-color);
    }

    &.error {
        border-color: var(--warning-color);
    }

    &.maintenance {
        border-color: var(--tertiary-accent);
    }
}

// –°—á–µ—Ç—á–∏–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
.notification-badge {
    position: absolute;
    top: -2px;
    right: -2px;
    min-width: 18px;
    height: 18px;
    padding: 0 6px;
    background: var(--secondary-accent);
    color: #ffffff;
    border-radius: var(--border-radius-round);
    font-size: 10px;
    font-weight: 600;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 3;
    border: 2px solid var(--secondary-bg);
    box-shadow: var(--shadow-light);

    &:empty {
        display: none;
    }
}
